(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{679:function(t,e,o){"use strict";o.d(e,"a",(function(){return h}));o(80);var n=o(13),r=o(23),l=o(26),c=o(33),f=o(14);function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=Object(f.a)(t);if(e){var r=Object(f.a)(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return Object(c.a)(this,o)}}var h=function(t){Object(l.a)(o,t);var e=d(o);function o(){return Object(n.a)(this,o),e.apply(this,arguments)}return Object(r.a)(o,[{key:"hasComment",get:function(){return null!==this.comment&&""!==this.comment}}],[{key:"entity",get:function(){return"group"}},{key:"fields",value:function(){return{id:this.string(""),type:this.string(""),parent_id:this.string(null).nullable(),title:this.string(null).nullable(),comment:this.string(null).nullable(),icon:this.string("folder"),params:this.attr(null),relationshipNames:this.attr([]).nullable(),deviceIds:this.attr(null),children:this.hasMany(o,"parent_id")}}}]),o}(o(22).b)},768:function(t,e,o){var content=o(890);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(94).default)("42af8238",content,!0,{sourceMap:!1})},769:function(t,e,o){var content=o(892);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(94).default)("3a5a4760",content,!0,{sourceMap:!1})},889:function(t,e,o){"use strict";o(768)},890:function(t,e,o){var n=o(93)(!1);n.push([t.i,'.fb-groups-create__icons{padding-left:15px;padding-right:15px}.fb-groups-create__icons>div{display:flex;flex-wrap:wrap;flex-direction:row}.fb-groups-create__icons>div>div{flex:0 0 33.333333%;width:20%;max-width:33.333333%;text-align:center;display:inline-block;position:relative;float:left;font-size:12px;padding:0}.fb-groups-create__icons>div>div:before{content:"";display:block;padding-top:100%}.fb-groups-create__icon{position:absolute;top:0;left:0;bottom:0;right:0;padding:5px;margin:10px;text-align:center;vertical-align:center;text-transform:uppercase;border:1px solid #ddd;border-radius:50%;cursor:pointer}.fb-groups-create__icon svg{height:100%;font-size:3em}.fb-groups-create__icon-selected{background-color:#d9230f;color:#fff}',""]),t.exports=n},891:function(t,e,o){"use strict";o(769)},892:function(t,e,o){var n=o(93)(!1);n.push([t.i,".fb-groups-group-create-view__container{padding:5px 10px}",""]),t.exports=n},909:function(t,e,o){"use strict";o.r(e);var n=o(88),r=o(10),l=o.n(r),c=o(87),f=o(679),d={name:"GroupsCreate",props:{transparentBg:{type:Boolean,default:!1}},data:function(){return{icons:c.h,form:{scope:"groups_create",model:{title:null,comment:null,icon:null}}}},created:function(){this.$validator.localize({en:{custom:{title:{required:this.$t("groups.fields.name.validation.required")}}}})},mounted:function(){this.$emit("loaded")},methods:{selectIcon:function(t){this.form.model.icon=t},submit:function(t){var e=this;t&&t.preventDefault(),this.$validator.validateAll(this.form.scope).then((function(t){if(t){var o=e.$t("groups.messages.notCreated");f.a.dispatch("create",{data:e.form.model}).catch((function(t){null!==l()(t,"exception",null)?e.handleException(t.exception,o):e.$flashMessage(o,"error")})),e._initModel(),e.$emit("close")}})).catch((function(t){!e.isDev&&Object.prototype.hasOwnProperty.call(e,"$sentry")&&e.$sentry.captureException(t)}))},close:function(t){t&&t.preventDefault(),this._initModel(),this.$emit("close")},_initModel:function(){this.errors.clear(this.form.scope)}}},h=(o(889),o(58)),m={name:"GroupCreatePage",components:{GroupsCreateGroup:Object(h.a)(d,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"fb-groups-create__container"},[o("form",{on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[o("fb-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"data-vv-scope":t.form.scope,error:t.errors.first(t.form.scope+".name"),"has-error":t.errors.has(t.form.scope+".name"),name:"name",label:t.$t("groups.fields.name.title"),required:!0},model:{value:t.form.model.name,callback:function(e){t.$set(t.form.model,"name",e)},expression:"form.model.name"}}),t._v(" "),o("fb-form-text-area",{attrs:{"data-vv-scope":t.form.scope,error:t.errors.first(t.form.scope+".comment"),"has-error":t.errors.has(t.form.scope+".comment"),name:"comment",label:t.$t("groups.fields.comment.title"),"tab-index":3},model:{value:t.form.model.comment,callback:function(e){t.$set(t.form.model,"comment",e)},expression:"form.model.comment"}}),t._v(" "),o("div",{staticClass:"fb-groups-create__icons"},[o("div",t._l(t.icons,(function(e,n){return o("div",{key:n},[o("span",{class:["fb-groups-create__icon",{"fb-groups-create__icon-selected":t.form.model.icon===e}],on:{click:function(o){return o.preventDefault(),t.selectIcon(e)}}},[o("font-awesome-icon",{attrs:{icon:e}})],1)])})),0)])],1)])}),[],!1,null,null,null).exports},transition:"fade",fetch:function(t){var e=t.app,o=t.store;o.dispatch("template/resetStore",null,{root:!0}),o.dispatch("template/setLeftButton",{name:e.i18n.t("application.buttons.back.title"),icon:"arrow-left"},{root:!0}),o.dispatch("template/setFullRowHeading",null,{root:!0}),o.dispatch("template/setHeading",{heading:e.i18n.t("application.headings.groups.add")},{root:!0}),o.dispatch("template/setHeadingIcon",{icon:"folder-plus"},{root:!0}),o.dispatch("app/bottomMenuCollapse",null,{root:!0})},head:function(){return{title:this.$t("meta.groups.create.title")}},computed:{windowSize:function(){return this.$store.state.app.windowSize}},watch:{windowSize:function(t){"xs"!==t&&this.$router.push(this.localePath({name:this.$routes.groups.list,hash:n.l}))}},beforeMount:function(){var t=this;null!==this.windowSize&&"xs"!==this.windowSize&&this.$router.push(this.localePath({name:this.$routes.groups.list,hash:n.l})),this._configureNavigation(),this.$bus.$on("heading_left_button-clicked",(function(){t.$router.push(t.localePath(t.$routes.groups.list))}))},beforeDestroy:function(){this.$bus.$off("heading_left_button-clicked")},methods:{_configureNavigation:function(){this.$store.dispatch("template/resetStore",null,{root:!0}),this.$store.dispatch("template/setLeftButton",{name:this.$t("application.buttons.back.title"),icon:"arrow-left"},{root:!0}),this.$store.dispatch("template/setFullRowHeading",null,{root:!0}),this.$store.dispatch("template/setHeading",{heading:this.$t("application.headings.groups.add")},{root:!0}),this.$store.dispatch("template/setHeadingIcon",{icon:"folder-plus"},{root:!0}),this.$store.dispatch("app/bottomMenuCollapse",null,{root:!0})}}},v=(o(891),Object(h.a)(m,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fb-groups-group-create-view__container"},[e("groups-create-group")],1)}),[],!1,null,null,null));e.default=v.exports}}]);