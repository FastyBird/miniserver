(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{921:function(e,t,o){"use strict";o.r(t);o(68);var r=o(10),n=o.n(r),m=o(679),l={name:"GroupsSettingsGroupRename",props:{group:{type:Object,required:!0},transparentBg:{type:Boolean,default:!1}},data:function(){return{form:{scope:"groups_edit_name",model:{name:"",comment:""},result:null}}},created:function(){this._initModel(),this.$validator.localize({en:{custom:{name:{required:this.$t("groups.fields.name.validation.required")}}}})},mounted:function(){this.$emit("loaded")},methods:{submit:function(e){var t=this;e&&e.preventDefault(),this.$validator.validateAll(this.form.scope).then((function(e){if(e){var o=t.$t("groups.messages.notEdited",{group:t.group.name});m.a.dispatch("edit",{id:t.group.id,data:t.form.model}).catch((function(e){null!==n()(e,"exception",null)?t.handleException(e.exception,o):t.$flashMessage(o,"error")})),t.form.result=!0,t.$timer.start("close")}})).catch((function(e){!t.isDev&&Object.prototype.hasOwnProperty.call(t,"$sentry")&&t.$sentry.captureException(e)}))},close:function(e){e&&e.preventDefault(),this._initModel(),this.$emit("close")},_initModel:function(){this.form.model={name:this.group.name,comment:this.group.comment},this.errors.clear(this.form.scope)}},timers:{close:{time:2e3}}},c=o(58),component=Object(c.a)(l,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("fb-ui-modal-form",{attrs:{"transparent-bg":e.transparentBg,"lock-submit-button":null!==e.form.result,"result-is-ok":!0===e.form.result,icon:"pencil-alt"},on:{submit:e.submit,cancel:e.close,close:e.close}},[o("template",{slot:"header"},[e._v("\n    "+e._s(e.$t("groups.headings.rename"))+"\n  ")]),e._v(" "),o("template",{slot:"form"},[o("fb-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"data-vv-scope":e.form.scope,error:e.errors.first(e.form.scope+".name"),"has-error":e.errors.has(e.form.scope+".name"),name:"name",label:e.$t("groups.fields.name.title"),placeholder:e.group.name,required:!0,"tab-index":2},model:{value:e.form.model.name,callback:function(t){e.$set(e.form.model,"name",t)},expression:"form.model.name"}}),e._v(" "),o("fb-form-text-area",{attrs:{"data-vv-scope":e.form.scope,error:e.errors.first(e.form.scope+".comment"),"has-error":e.errors.has(e.form.scope+".comment"),name:"comment",label:e.$t("groups.fields.comment.title"),"tab-index":3},model:{value:e.form.model.comment,callback:function(t){e.$set(e.form.model,"comment",t)},expression:"form.model.comment"}})],1)],2)}),[],!1,null,null,null);t.default=component.exports}}]);