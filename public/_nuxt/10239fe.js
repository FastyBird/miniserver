(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{678:function(e,t,n){var content=n(683);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(94).default)("1e2901a1",content,!0,{sourceMap:!1})},682:function(e,t,n){"use strict";n(678)},683:function(e,t,n){var r=n(93)(!1);r.push([e.i,".fb-account-sign-header__heading{font-weight:300;margin:0;text-align:center}",""]),e.exports=r},690:function(e,t,n){"use strict";var r=n(20),o=Object(r.b)({name:"AccountSignHeader",props:{heading:{type:String,required:!0}}}),l=(n(682),n(58)),component=Object(l.a)(o,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("h3",{staticClass:"fb-account-sign-header__heading"},[e._v("\n  "+e._s(e.heading)+"\n")])}),[],!1,null,null,null);t.a=component.exports},717:function(e,t,n){var content=n(788);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(94).default)("c4aeb57e",content,!0,{sourceMap:!1})},787:function(e,t,n){"use strict";n(717)},788:function(e,t,n){var r=n(93)(!1);r.push([e.i,".fb-sign-in-page__container{padding:0 30px 30px}.fb-sign-in-page__container form{margin-top:15px}.fb-sign-in-page__container form .fb-checkbox__container{padding-bottom:0;padding-top:0}",""]),e.exports=r},912:function(e,t,n){"use strict";n.r(t);n(32),n(64),n(49);var r=n(20),o=n(16),l=n(10),d=n.n(l),c=n(677),f=n(142),m=n(690),v=Object(r.b)({name:"SignInPage",components:{ValidationProvider:c.b,ValidationObserver:c.a,AccountSignHeader:m.a},middleware:"anonymous",transition:"fade",setup:function(){var e=Object(r.l)(),t=e.app.i18n,n=e.store,l=e.$flashMessage,m=e.$cookies,v=e.$backendApi,_=e.$bus,h=Object(r.j)(),form=Object(r.i)({model:{uid:"",password:"",persistent:!0}});return Object(c.d)({en:{fields:{uid:{required:t.t("account.fields.identity.uid.validation.required").toString()},password:{required:t.t("account.fields.identity.password.validation.required").toString()}}}}),Object(c.c)("required",{validate:function(e){return{required:!0,valid:!["",null,void 0].includes(e)}},computesRequired:!0}),{validator:h,form:form,handleSubmitForm:function(){_.$emit("wait-page_reloading",10);var e=t.t("application.messages.requestError").toString();v.createSession({uid:form.model.uid,password:form.model.password}).then((function(){var e=n.getters["session/getAccessToken"](),t=n.getters["session/getRefreshToken"]();if(null===e||null===t)throw new Error("Session could not be created");var r=Object(f.a)(e);m.set("token",e,{path:"/",maxAge:new Date(1e3*r.exp).getTime()/1e3-(new Date).getTime()/1e3});var o=Object(f.a)(t);m.set("refresh_token",t,{path:"/",maxAge:new Date(1e3*o.exp).getTime()/1e3-(new Date).getTime()/1e3}),_.$emit("user_signed-in")})).catch((function(t){_.$emit("wait-page_reloading",!1),null!==d()(t,"exception",null)?l.exception(t.exception,e):null!==d()(t,"response",null)?l.requestError(t.response,e):l.error(e)}))},sizeTypes:o.J,buttonVariantTypes:o.N,formInputTypes:o.d}}}),_=(n(787),n(58)),component=Object(_.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"fb-sign-in-page__container"},[n("account-sign-header",{attrs:{heading:e.$t("account.headings.signIn")}}),e._v(" "),n("validation-observer",{ref:"validator",scopedSlots:e._u([{key:"default",fn:function(t){var r=t.handleSubmit;return[n("form",{on:{submit:function(t){return t.preventDefault(),r(e.handleSubmitForm)}}},[n("fb-ui-content",{attrs:{mb:e.sizeTypes.MEDIUM}},[n("validation-provider",{attrs:{name:"uid",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("fb-form-input",{attrs:{error:r[0],"has-error":r.length>0,label:e.$t("account.fields.identity.uid.title"),required:!0,name:"uid"},model:{value:e.form.model.uid,callback:function(t){e.$set(e.form.model,"uid",t)},expression:"form.model.uid"}})]}}],null,!0)})],1),e._v(" "),n("validation-provider",{attrs:{name:"password",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("fb-form-input",{attrs:{error:r[0],"has-error":r.length>0,label:e.$t("account.fields.identity.password.title"),required:!0,type:e.formInputTypes.PASSWORD,name:"password"},model:{value:e.form.model.password,callback:function(t){e.$set(e.form.model,"password",t)},expression:"form.model.password"}})]}}],null,!0)}),e._v(" "),n("fb-form-checkbox",{attrs:{name:"persistent"},model:{value:e.form.model.persistent,callback:function(t){e.$set(e.form.model,"persistent",t)},expression:"form.model.persistent"}},[e._v("\n        "+e._s(e.$t("account.fields.persistent.title"))+"\n        "),n("template",{slot:"right-addon"},[n("span",{attrs:{"aria-hidden":"true"}},[e._v(" Â· ")]),e._v(" "),n("nuxt-link",{attrs:{to:e.localePath({name:e.$routes.account.resetPassword})}},[e._v("\n            "+e._s(e.$t("account.buttons.forgotPassword.title"))+"\n          ")])],1)],2),e._v(" "),n("fb-ui-button",{attrs:{variant:e.buttonVariantTypes.PRIMARY,block:"",uppercase:"",type:"submit"}},[e._v("\n        "+e._s(e.$t("account.buttons.signIn.title"))+"\n      ")])],1)]}}])})],1)}),[],!1,null,null,null);t.default=component.exports}}]);